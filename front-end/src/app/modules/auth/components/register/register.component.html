<div class="signup-container">
  <a class="back" href="home">
    <i class="fas fa-arrow-left"></i>
  </a>
  <div class="signup-card">
    <!-- Header with Logo -->
    <div class="header">
      <div class="logo-section">
        <img src="assets/logo.png" alt="Nimbus Logo" class="logo">
        <h2>Nimbus</h2>
      </div>
      <div class="nav-links">
        <a href="home" class="active">Home</a>
        <a href="login">Explore</a>
      </div>
    </div>

    <!-- Main Content -->
    <div class="signup-content">
      <h1>WELCOME TO NIMBUS</h1>
      <h2>Create Account <span>.</span></h2>
      <p class="signup-link">Already have an account? <a routerLink="/login">login</a></p>

      <!-- Error Message -->
      <div class="error-message" *ngIf="errorMessage">
        <i class="fas fa-exclamation-circle"></i>
        <span>{{errorMessage}}</span>
      </div>

      <form [formGroup]="signupForm" (ngSubmit)="onSubmit()" class="signup-form">
        <div class="field-group">

          <div class="form-field">
            <label for="fullName">Full Name</label>
            <div class="input-wrapper">
              <input id="fullName"
                     type="text"
                     formControlName="fullName"
                     placeholder="Enter your full name"
                     [class.error]="signupForm.get('fullName')?.invalid && signupForm.get('fullName')?.touched">
              <span class="error-message" *ngIf="getErrorMessage('fullName')">
                {{getErrorMessage('fullName')}}
              </span>
            </div>
          </div>

          
          <div class="form-field">
            <label for="username">Username</label>
            <div class="input-wrapper">
              <input id="username"
                     type="text"
                     formControlName="username"
                     placeholder="Enter your username"
                     [class.error]="signupForm.get('username')?.invalid && signupForm.get('username')?.touched">
              <span class="error-message" *ngIf="getErrorMessage('username')">
                {{getErrorMessage('username')}}
              </span>
            </div>
          </div>
        </div>

        <div class="form-field">
          <label for="email">Email</label>
          <div class="input-wrapper">
            <input id="email"
                   type="email"
                   formControlName="email"
                   placeholder="Enter your email"
                   [class.error]="signupForm.get('email')?.invalid && signupForm.get('email')?.touched">
            <span class="error-message" *ngIf="getErrorMessage('email')">
              {{getErrorMessage('email')}}
            </span>
          </div>
        </div>

        <div class="field-group">
          <div class="form-field">
            <label for="password">Password</label>
            <div class="input-wrapper">
              <input id="password"
                     [type]="hidePassword ? 'password' : 'text'"
                     formControlName="password"
                     placeholder="Enter your password"
                     [class.error]="signupForm.get('password')?.invalid && signupForm.get('password')?.touched">
              <button type="button" 
                      class="toggle-password"
                      (click)="hidePassword = !hidePassword">
                <i [class]="hidePassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
              </button>
              <span class="error-message" *ngIf="getErrorMessage('password')">
                {{getErrorMessage('password')}}
              </span>
            </div>
          </div>

          <div class="form-field">
            <label for="confirmPassword">Confirm Password</label>
            <div class="input-wrapper">
              <input id="confirmPassword"
                     [type]="hidePassword ? 'password' : 'text'"
                     formControlName="confirmPassword"
                     placeholder="Confirm password"
                     [class.error]="signupForm.get('confirmPassword')?.invalid && signupForm.get('confirmPassword')?.touched">
              <button type="button" 
                      class="toggle-password"
                      (click)="hidePassword = !hidePassword">
                <i [class]="hidePassword ? 'fas fa-eye-slash' : 'fas fa-eye'"></i>
              </button>
              <span class="error-message" *ngIf="getErrorMessage('confirmPassword')">
                {{getErrorMessage('confirmPassword')}}
              </span>
            </div>
          </div>
        </div>

        <div class="field-group">
          <div class="form-field">
            <label for="phoneNumber">Phone Number</label>
            <div class="input-wrapper">
              <input id="phoneNumber"
                     type="text"
                     formControlName="phoneNumber"
                     placeholder="Enter your phone number"
                     [class.error]="signupForm.get('phoneNumber')?.invalid && signupForm.get('phoneNumber')?.touched">
              <span class="error-message" *ngIf="getErrorMessage('phoneNumber')">
                {{getErrorMessage('phoneNumber')}}
              </span>
            </div>
          </div>

          <div class="form-field">
            <label for="address">Address</label>
            <div class="input-wrapper">
              <input id="address"
                     type="text"
                     formControlName="address"
                     placeholder="Enter your address"
                     [class.error]="signupForm.get('address')?.invalid && signupForm.get('address')?.touched">
              <span class="error-message" *ngIf="getErrorMessage('address')">
                {{getErrorMessage('address')}}
              </span>
            </div>
          </div>
        </div>
      
        <div class="action-buttons">
          <button type="reset" class="btn btn-secondary">
            Reset Form
          </button>
          <button type="submit" 
                  class="btn btn-primary"
                  [disabled]="signupForm.invalid || isLoading">
            <div class="spinner" *ngIf="isLoading"></div>
            <span *ngIf="!isLoading">SignUp</span>
          </button>
        </div>
      </form>
    </div>
  </div>
</div>

